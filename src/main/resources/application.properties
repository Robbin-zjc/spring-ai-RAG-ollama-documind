spring.application.name=spring-ai-rag-tutorial

spring.ai.ollama.base-url=http://localhost:11434

spring.ai.ollama.init.pull-model-strategy=never

spring.ai.ollama.init.timeout=5m

spring.ai.ollama.chat.options.model=mistral
spring.ai.ollama.embedding.options.model=nomic-embed-text

# 启动时可切换为 always，自动拉取缺失模型
spring.ai.ollama.init.pull-model-strategy=never

spring.ai.vectorstore.pgvector.initialize-schema=true

spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB



spring.datasource.url=jdbc:postgresql://localhost:5432/vectordb

spring.datasource.username=testuser

spring.datasource.password=testpwd



logging.level.org.springframework.ai.vectorstore=DEBUG



# ============================================================================

# RAG 检索优化配置 - 基于行业标准算法（Query Expansion + Reranking）

# ============================================================================



# 基础检索参数

rag.search.topk=20

rag.search.similarity-threshold=0.25

rag.search.max-docs=15

rag.search.max-per-source=4

rag.search.min-source-coverage=2

rag.hybrid.lexical-weight=0.35



# 查询扩展策略（Query Expansion）

# 启用多查询扩展以提高召回率，同时保留原始查询以确保准确性

rag.search.expand-query=true



# 文档重排序策略（Learning-to-Rank）

# 启用多维度重排序以优化文档相关性排序

rag.rerank.enabled=true

# 原始排名权重（考虑向量检索的可靠性）

rag.rerank.position-weight=0.2

# 多样性权重（鼓励结果多样化）

rag.rerank.diversity-weight=0.15

# 信息覆盖度权重（鼓励完整性）

rag.rerank.coverage-weight=0.15



# ============================================================================

# 日志配置 - 用于调试和监控RAG系统性能

# ============================================================================

logging.level.com.techie.springai.rag.service.RAGService=INFO

logging.level.com.techie.springai.rag.service.QueryExpander=DEBUG

logging.level.com.techie.springai.rag.service.DocumentReranker=DEBUG

